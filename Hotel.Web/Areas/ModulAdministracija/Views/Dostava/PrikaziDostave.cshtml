@using Hotel.Data.Models;
@{
    Layout = "_LayoutAdmin";
    ViewData["Title"] = "PrikaziDostave";
}
@model Hotel.Web.Areas.ModulAdministracija.ViewModels.PrikaziDostaveVM

<h2>PrikaziDostave</h2>
<style>
    td {
        text-align: center;
    }

    th {
        text-align: center;
    }
</style>
<form action="/ModulAdministracija/Dostava/PrikaziDostave">
    <table>
        <tr>
            <td>
                @Html.DropDownListFor(x => x.StanjeOdabir, Model.stanjeStavke, new { @class = "form-control" })
            </td>
            <td><input type="submit" value="Pretraži" class="btn btn-success" /></td>
        </tr>
    </table>
</form>
<br /><br />
<table class="table table-striped">
    <tr>
        <th>Vrijeme narudžbe</th>
        <th>Broj smještaja</th>
        <th>Sprat smještaja</th>
        <th>Nosilac check-ina</th>
        <th>Stanje narudžbe</th>
        <th>Akcija</th>
    </tr>
    @foreach (Dostava d in Model.Dostave)
    {
        <tr>
            <td>@d.Datum.ToString("dd/MM/yyyy HH:mm")</td>
            <td>@d.RezervisanSmjestaj.Smjestaj.BrojSmjestaja</td>
            <td>@d.RezervisanSmjestaj.Smjestaj.Sprat</td>
            <td>@d.RezervisanSmjestaj.CheckIN.Gost.Ime @d.RezervisanSmjestaj.CheckIN.Gost.Prezime</td>
            @if (d.Zavrsena == false)
            {
                <td>Na čekanju</td>
            }
            else
            {
                <td>Završena</td>
            }
            <td><a href="/ModulAdministracija/Dostava/PrikaziStavkeZaDostavu?DostavaId=@d.Id" class="btn btn-success" ajax-poziv="da" ajax-rezultat="ajaxdiv">Prikazi proizvode</a></td>
        </tr>

    }
</table>
<div id="ajaxdiv"></div>
